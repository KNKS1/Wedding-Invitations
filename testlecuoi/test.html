<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Album Hình Cưới - Trái Tim Rơi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap 5 CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- Lightbox2 CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css"
  />

  <style>
    /* ======== CSS ALBUM HÌNH CƯỚI ======== */
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #f8f9fa;
    }
    h1 {
      font-weight: 700;
      margin-bottom: 2rem;
    }
    .masonry-item {
      margin-bottom: 1rem;
    }
    .masonry-item img {
      width: 100%;
      height: auto;
      border-radius: 5px;
      transition: transform 0.3s;
    }
    .masonry-item img:hover {
      transform: scale(1.03);
    }
    .navbar-brand {
      font-weight: 600;
    }
    footer {
      background-color: #343a40;
    }
    footer p {
      margin: 0;
    }

    /* ======== CSS HIỆU ỨNG TRÁI TIM RƠI ======== */
    .particle-container {
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; 
      z-index: 9999;        
      overflow: hidden;
    }
    /* Mỗi hạt là một trái tim */
    .particle {
      position: absolute;
      /* Không dùng background, thay vào đó dùng ký tự trái tim */
      font-weight: bold;
      color: #e74c3c;  /* Màu đỏ */
      opacity: 0.8;
      user-select: none;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <!-- Khung chứa các trái tim -->
  <div class="particle-container"></div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">Thiệp Mời Đám Cưới</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Trang Chủ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="album.html">Album Hình Cưới</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Album Hình Cưới -->
  <section class="py-5">
    <div class="container">
      <h1 class="text-center">Album Hình Cưới</h1>
      <div class="row masonry-container">
        <!-- Các item ảnh (sử dụng col-6 col-sm-4 col-md-3 để hiển thị tốt trên di động) -->
        <div class="col-6 col-sm-4 col-md-3 masonry-item">
          <a href="img/1.jpg" data-lightbox="wedding-gallery">
            <img src="img/1.jpg" alt="Ảnh 1" class="img-fluid">
          </a>
        </div>
        <div class="col-6 col-sm-4 col-md-3 masonry-item">
          <a href="img/10.jpg" data-lightbox="wedding-gallery">
            <img src="img/10.jpg" alt="Ảnh 2" class="img-fluid">
          </a>
        </div>
        <div class="col-6 col-sm-4 col-md-3 masonry-item">
          <a href="img/11.jpg" data-lightbox="wedding-gallery">
            <img src="img/11.jpg" alt="Ảnh 3" class="img-fluid">
          </a>
        </div>
        <div class="col-6 col-sm-4 col-md-3 masonry-item">
          <a href="img/12.jpg" data-lightbox="wedding-gallery">
            <img src="img/12.jpg" alt="Ảnh 4" class="img-fluid">
          </a>
        </div>
        <!-- Bạn có thể thêm ảnh khác nếu cần -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-4 text-white text-center">
    <div class="container">
      <p>&copy; 2025 Thiệp Mời Đám Cưới. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- imagesLoaded & Masonry -->
  <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
  <!-- Lightbox2 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

  <script>
    // Khởi tạo Masonry cho album ảnh
    $(document).ready(function() {
      var $masonryContainer = $('.masonry-container');
      $masonryContainer.imagesLoaded(function() {
        $masonryContainer.masonry({
          itemSelector: '.masonry-item',
          percentPosition: true
        });
      });
    });

    // ===== HIỆU ỨNG "TRÁI TIM RƠI TỰ DO" =====
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.querySelector('.particle-container');
      const containerWidth = window.innerWidth;
      const containerHeight = window.innerHeight;

      const particleCount = 10;  // Giảm số lượng hạt xuống 10
      const gravity = 0.02;      // Gia tốc rơi chậm hơn

      // Mảng lưu trữ thông tin của từng hạt
      const particles = [];

      for (let i = 0; i < particleCount; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        // Thay nội dung của hạt thành trái tim (♥)
        p.innerHTML = '♥';

        container.appendChild(p);

        // Kích thước ngẫu nhiên cho font (20px - 30px)
        const size = Math.floor(Math.random() * 11) + 20;
        p.style.fontSize = size + 'px';

        // Toạ độ ban đầu
        const x = Math.random() * containerWidth;
        const y = Math.random() * containerHeight;

        // Vận tốc ban đầu (chậm hơn)
        const vy = Math.random() * 0.5 + 0.5;  // khoảng 0.5 đến 1.0
        const vx = (Math.random() - 0.5) * 0.5;  // di chuyển nhẹ theo chiều ngang

        particles.push({ el: p, x, y, vx, vy, size });
      }

      function animate() {
        particles.forEach(p => {
          // Cập nhật vận tốc dọc với gia tốc rơi
          p.vy += gravity;
          p.y += p.vy;
          p.x += p.vx;

          // Nếu trái tim rơi xuống dưới màn hình, reset về trên cùng
          if (p.y > containerHeight) {
            p.y = -p.size;
            p.x = Math.random() * containerWidth;
            p.vy = Math.random() * 0.5 + 0.5;
          }

          // Nếu trái tim ra khỏi biên trái/phải, xử lý wrap-around
          if (p.x < -p.size) {
            p.x = containerWidth + p.size;
          } else if (p.x > containerWidth + p.size) {
            p.x = -p.size;
          }

          // Áp dụng vị trí mới qua CSS transform
          p.el.style.transform = `translate(${p.x}px, ${p.y}px)`;
        });
        requestAnimationFrame(animate);
      }
      animate();
    });
  </script>
</body>
</html>
